define(["jquery","core/ajax","core/notification"],function(a,b,c){"use strict";function d(a,d,e){a.click(function(a){a.preventDefault(),0==d.attr("data-collapse")?d.attr("data-collapse","1"):1==d.attr("data-collapse")&&d.attr("data-collapse","0");var f="1"==d.attr("data-collapse")?1:0,g=[{name:"block_menteesplus_collapsed",value:f,userid:e}];b.call([{methodname:"core_user_set_user_preferences",args:{preferences:g},done:function(a){console.log(a),a.saved},fail:function(a){c.exception}}])})}return{init:function(b,c,e,f){console.log(e);var g=a("."+b),h=a("."+c);d(g,h,e),f||h.attr("data-collapse","1")}}});