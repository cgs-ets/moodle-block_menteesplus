{"version":3,"sources":["../src/menteesplus.js"],"names":["define","$","Ajax","toggleClickHandler","click","toggle","userid","e","preventDefault","attr","html","value","call","methodname","args","preferences","init","clickNode","toggleNode","keepExpanded"],"mappings":"AAqBAA,OAAM,iCAAC,CAAC,QAAD,CAAW,WAAX,CAAD,CAA0B,SAASC,CAAT,CAAYC,CAAZ,CAAkB,CAC9C,aAMA,QAASC,CAAAA,CAAT,CAA4BC,CAA5B,CAAmCC,CAAnC,CAA2CC,CAA3C,CAAmD,CAC/CF,CAAK,CAACA,KAAN,CAAY,SAASG,CAAT,CAAY,CAEpBA,CAAC,CAACC,cAAF,GAGA,GAAoC,CAAhC,EAAAH,CAAM,CAACI,IAAP,CAAY,eAAZ,CAAJ,CAAuC,CACnCJ,CAAM,CAACI,IAAP,CAAY,eAAZ,CAA6B,GAA7B,EACAL,CAAK,CAACM,IAAN,CAAW,UAAX,CACH,CAHD,IAGO,IAAoC,CAAhC,EAAAL,CAAM,CAACI,IAAP,CAAY,eAAZ,CAAJ,CAAuC,CAC1CJ,CAAM,CAACI,IAAP,CAAY,eAAZ,CAA6B,GAA7B,EACAL,CAAK,CAACM,IAAN,CAAW,UAAX,CACH,CAXmB,GAchBC,CAAAA,CAAK,CAAmC,GAAhC,EAAAN,CAAM,CAACI,IAAP,CAAY,eAAZ,EAAsC,CAAtC,CAA0C,CAdlC,CAoBpBP,CAAI,CAACU,IAAL,CAAU,CAAC,CACPC,UAAU,CAAE,gCADL,CAEPC,IAAI,CAAE,CAAEC,WAAW,CAPL,CAAC,CACf,KAAQ,6BADO,CAEf,MAASJ,CAFM,CAGf,OAAUL,CAHK,CAAD,CAOR,CAFC,CAAD,CAAV,CAKH,CAzBD,CA0BH,CAED,MAAO,CACHU,IAAI,CAAE,cAASC,CAAT,CAAoBC,CAApB,CAAgCZ,CAAhC,CAAwCa,CAAxC,CAAsD,IAEpDf,CAAAA,CAAK,CAAGH,CAAC,CAAC,IAAMgB,CAAP,CAF2C,CAKpDZ,CAAM,CAAGJ,CAAC,CAAC,IAAMiB,CAAP,CAL0C,CAQxDf,CAAkB,CAACC,CAAD,CAAQC,CAAR,CAAgBC,CAAhB,CAAlB,CAGA,GAAI,CAACa,CAAL,CAAmB,CACfd,CAAM,CAACI,IAAP,CAAY,eAAZ,CAA6B,GAA7B,CACH,CACJ,CAfE,CAiBV,CArDK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @package    block_menteesplus\n * @copyright  2019 Michael de Raadt michaelderaadt@gmai.com\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery', 'core/ajax'], function($, Ajax) {\n    \"use strict\";\n\n    /**\n     * Click handler to toggle the given nav node.\n     * @param {Object} node The nav node which should be toggled.\n     */\n    function toggleClickHandler(click, toggle, userid) {\n        click.click(function(e) {\n            // Prevent that the browser opens the node's default action link (if existing).\n            e.preventDefault();\n\n            // Toggle expanded/collapsed.\n            if (toggle.attr('data-collapse') == 0) {\n                toggle.attr(\"data-collapse\", \"1\");\n                click.html(\"&#xf0da;\");\n            } else if (toggle.attr('data-collapse') == 1) {\n                toggle.attr(\"data-collapse\", \"0\");\n                click.html(\"&#xf0d7;\");\n            }\n\n            // Save toggle state as a preference.\n            var value = toggle.attr('data-collapse') == '1' ? 1 : 0;\n            var preferences = [{\n                'name': 'block_menteesplus_collapsed',\n                'value': value,\n                'userid': userid\n            }];\n            Ajax.call([{\n                methodname: 'core_user_set_user_preferences',\n                args: { preferences: preferences },\n            }]);\n\n        });\n    }\n\n    return {\n        init: function(clickNode, toggleNode, userid, keepExpanded) {\n            // Search node to be collapsible.\n            var click = $('.' + clickNode);\n\n            // Search node to be collapsible.\n            var toggle = $('.' + toggleNode);\n\n            // Add a click handler to this node.\n            toggleClickHandler(click, toggle, userid);\n\n            // Set initial state to collapsed.\n            if (!keepExpanded) {\n                toggle.attr(\"data-collapse\", \"1\");\n            }\n        }\n    };\n});"],"file":"menteesplus.min.js"}